# SimpleStore API Tests

‘±’µ’Ω ’¢’°’™’´’∂’® ’∫’°÷Ä’∏÷Ç’∂akc’∏÷Ç’¥ ’ß SimpleStore API-’´ ’∞’°’¥’°÷Ä ’∞’°’¥’°’∫’°÷Ä÷É’°’Ø ’ø’•’Ω’ø’•÷Ä axios-’´ ’¥’´’ª’∏÷Å’∏’æ:

## ’è’•’≤’°’§÷Ä’∏÷Ç’¥ ÷á ‘ø’°÷Ä’£’°’æ’∏÷Ä’∏÷Ç’¥

### ’Ü’°’≠’°’∫’°’µ’¥’°’∂’∂’•÷Ä
- Node.js (>= 14.0.0)
- npm
- SimpleStore server-’® ’∫’•’ø÷Ñ ’ß ’°’∑’≠’°’ø’´

### ’è’•’≤’°’§÷Ä’∏÷Ç’¥
```bash
npm install axios
```

## ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥

### ‘º’´’°÷Ä’™’•÷Ñ ’ø’•’Ω’ø’°’µ’´’∂ ÷É’°’©’•’©’´ ’£’∏÷Ä’Æ’°÷Ä’Ø’∏÷Ç’¥
```bash
node simplestore-tests.js
```

### ‘±’º’°’∂’±’´’∂ ’ø’•’Ω’ø’•÷Ä’´ ’£’∏÷Ä’Æ’°÷Ä’Ø’∏÷Ç’¥

#### Authentication ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:auth
```

#### Product endpoints ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:products
```

#### User management ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:users
```

#### Role-based authorization ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:auth-roles
```

#### Edge cases ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:edge-cases
```

#### Performance ’ø’•’Ω’ø’•÷Ä
```bash
npm run test:performance
```

## ’è’•’Ω’ø’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä

### 1. Authentication ’ø’•’Ω’ø’•÷Ä
- ‚úÖ Admin ’¥’∏÷Ç’ø÷Ñ
- ‚úÖ Regular user ’¥’∏÷Ç’ø÷Ñ
- ‚úÖ ’ç’≠’°’¨ credentials-’∂’•÷Ä’∏’æ ’¥’∏÷Ç’ø÷Ñ
- ‚úÖ ‘≤’°÷Å’°’Ø’°’µ’∏’≤ credentials-’∂’•÷Ä

### 2. Product Management ’ø’•’Ω’ø’•÷Ä
- ‚úÖ ‘≤’∏’¨’∏÷Ä ’°’∫÷Ä’°’∂÷Ñ’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø (’∞’°’∂÷Ä’°’µ’´’∂)
- ‚úÖ ‘±’∫÷Ä’°’∂÷Ñ ’°’æ’•’¨’°÷Å’∂’•’¨ (admin ’´÷Ä’°’æ’∏÷Ç’∂÷Ñ’∂’•÷Ä’∏’æ)
- ‚úÖ ‘±’∫÷Ä’°’∂÷Ñ ’°’æ’•’¨’°÷Å’∂’•’¨ ’°’º’°’∂÷Å authentication-’´
- ‚úÖ ‘±’∫÷Ä’°’∂÷Ñ ’°’æ’•’¨’°÷Å’∂’•’¨ regular user-’∏’æ
- ‚úÖ ’ç’≠’°’¨ ’ø’æ’µ’°’¨’∂’•÷Ä’∏’æ ’°’∫÷Ä’°’∂÷Ñ ’°’æ’•’¨’°÷Å’∂’•’¨

### 3. User Management ’ø’•’Ω’ø’•÷Ä
- ‚úÖ ‘≤’∏’¨’∏÷Ä ÷Ö’£’ø’æ’∏’≤’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø (admin)
- ‚úÖ ‘≤’∏’¨’∏÷Ä ÷Ö’£’ø’æ’∏’≤’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø (regular user)
- ‚úÖ ‘≤’∏’¨’∏÷Ä ÷Ö’£’ø’æ’∏’≤’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø ’°’º’°’∂÷Å authentication-’´

### 4. Authorization ’ø’•’Ω’ø’•÷Ä
- ‚úÖ ’ç’≠’°’¨ JWT token
- ‚úÖ Token ’°’º’°’∂÷Å Bearer prefix-’´
- ‚úÖ ‘≤’°÷Å’°’Ø’°’µ’∏’≤ Authorization header

### 5. Edge Cases ’ø’•’Ω’ø’•÷Ä
- ‚úÖ ’Ñ’•’Æ payload
- ‚úÖ SQL Injection ’∫’°’∑’ø’∫’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
- ‚úÖ XSS ’∫’°’∑’ø’∫’°’∂’∏÷Ç’©’µ’∏÷Ç’∂

### 6. Performance ’ø’•’Ω’ø’•÷Ä
- ‚úÖ ’Ñ’´ ÷Ñ’°’∂’´ ’¥’´’°’™’°’¥’°’∂’°’Ø’µ’° requests

## ‘ø’°÷Ä’£’°’æ’∏÷Ä’∏÷Ç’¥’∂’•÷Ä

### Server URL ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂
‘µ’©’• ’±’•÷Ä server-’® ’°’∑’≠’°’ø’∏÷Ç’¥ ’ß ’°’µ’¨ port-’´ ’æ÷Ä’°, ÷É’∏’≠’•÷Ñ `BASE_URL` ÷É’∏÷É’∏’≠’°’Ø’°’∂’®:

```javascript
const BASE_URL = 'http://localhost:YOUR_PORT';
```

### Test Data ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂
‘µ’©’• ’∏÷Ç’∂’•÷Ñ ’°’µ’¨ test users, ÷É’∏’≠’•÷Ñ `testAdmin` ÷á `testUser` ÷Ö’¢’µ’•’Ø’ø’∂’•÷Ä’®:

```javascript
const testAdmin = {
    username: 'your_admin_username',
    password: 'your_admin_password'
};

const testUser = {
    username: 'your_user_username',
    password: 'your_user_password'
};
```

## ‘≥’∏÷Ç’∂’°’æ’∏÷Ä Console Output

’è’•’Ω’ø’•÷Ä’® ÷Ö’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥ ’•’∂ ’£’∏÷Ç’∂’°’æ’∏÷Ä console output’ù ’∞’•’∑’ø ’®’∂’Ø’°’¨’¥’°’∂ ’∞’°’¥’°÷Ä:
- üü¢ ‘ø’°’∂’°’π: ’Ä’°’ª’∏’≤ ’ø’•’Ω’ø’•÷Ä
- üî¥ ‘ø’°÷Ä’¥’´÷Ä: ‘±’∂’∞’°’ª’∏’≤ ’ø’•’Ω’ø’•÷Ä
- üü° ‘¥’•’≤’´’∂: ’Ä’°’æ’•’¨’µ’°’¨ ’ø’•’≤’•’Ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä
- üîµ ‘ø’°’∫’∏÷Ç’µ’ø: ‘≤’°’™’´’∂’∂’•÷Ä’´ ’æ’•÷Ä’∂’°’£÷Ä’•÷Ä

## Error Handling

’è’•’Ω’ø’•÷Ä’® ’°’∫’°’∞’∏’æ’∏÷Ç’¥ ’•’∂:
- ’Ñ’°’∂÷Ä’°’¥’°’Ω’∂ error messages
- HTTP status codes ’Ω’ø’∏÷Ç’£’∏÷Ç’¥
- Network errors handling
- Server availability ’Ω’ø’∏÷Ç’£’∏÷Ç’¥

## ’ï÷Ä’´’∂’°’Ø Output

```
SimpleStore API Test Suite
Testing against: http://localhost:3000

‚úì Server is running at http://localhost:3000

Starting SimpleStore API Tests...

=== Testing Authentication ===
‚úì PASSED - Admin Login
   Token received: Yes
‚úì PASSED - Regular User Login
   Token received: Yes
‚úì PASSED - Invalid Login
   Status: 401, Message: Invalid credentials
‚úì PASSED - Missing Credentials
   Status: 400

=== Testing Product Endpoints ===
‚úì PASSED - Get All Products (Public)
   Products count: 5
‚úì PASSED - Add Product (Admin)
   Product added: Test Product
‚úì PASSED - Add Product (No Auth)
   Status: 401
‚úì PASSED - Add Product (Regular User)
   Status: 403 - Access should be forbidden
‚úì PASSED - Add Product (Invalid Data)
   Status: 400

üéâ Test suite execution completed!
```

## Troubleshooting

### Server ’π’´ ’°’∑’≠’°’ø’∏÷Ç’¥
```
‚ùå Server is not running at http://localhost:3000
Please start your SimpleStore server first.
```
**‘º’∏÷Ç’Æ’∏÷Ç’¥**: ’Ü’°’≠ ’£’∏÷Ä’Æ’°÷Ä’Ø’•÷Ñ ’±’•÷Ä SimpleStore server-’®:

### Authentication errors
‘µ’©’• authentication ’ø’•’Ω’ø’•÷Ä’® ’±’°’≠’∏’≤’æ’∏÷Ç’¥ ’•’∂, ’Ω’ø’∏÷Ç’£’•÷Ñ:
- `users.json` ÷Ü’°’µ’¨’∏÷Ç’¥ admin ÷á user credentials-’∂’•÷Ä’®
- JWT secret key-’´ ’∞’°’¥’°’∫’°’ø’°’Ω’≠’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’®
- bcrypt password hashing-’®

### Network errors
- ’ç’ø’∏÷Ç’£’•÷Ñ server-’´ port-’®
- ’ç’ø’∏÷Ç’£’•÷Ñ firewall settings-’∂’•÷Ä’®
- ’ç’ø’∏÷Ç’£’•÷Ñ network connectivity-’®

## ‘∏’∂’§’¨’°’µ’∂’∏÷Ç’¥

‘ø’°÷Ä’∏’≤ ’•÷Ñ ’°’æ’•’¨’°÷Å’∂’•’¨ ’∂’∏÷Ä ’ø’•’Ω’ø’•÷Ä’ù ÷Ö÷Ä’´’∂’°’Ø:
- PUT/PATCH requests-’∂’•÷Ä’´ ’∞’°’¥’°÷Ä
- DELETE requests-’∂’•÷Ä’´ ’∞’°’¥’°÷Ä
- File upload functionality-’´ ’∞’°’¥’°÷Ä
- Pagination-’´ ’∞’°’¥’°÷Ä
- Search functionality-’´ ’∞’°’¥’°÷Ä

## ’ï÷Ä’´’∂’°’Ø ’∂’∏÷Ä ’ø’•’Ω’ø ’°’æ’•’¨’°÷Å’∂’•’¨’∏÷Ç ’∞’°’¥’°÷Ä:

```javascript
async testDeleteProduct() {
    console.log('=== Testing Product Deletion ===');
    
    try {
        const response = await makeAuthenticatedRequest('DELETE', '/products/1', null, adminToken);
        logTest('Delete Product (Admin)', 
            response.status === 200, 
            'Product successfully deleted'
        );
    } catch (error) {
        logTest('Delete Product (Admin)', false, error.message);
    }
}
```